<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.1 Safari/605.1.15" version="29.2.3">
  <diagram name="Silver Movies ERD" id="SYCIcNQDNUsA1FdMLRuH">
    <mxGraphModel dx="2048" dy="813" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="3uXLl0RHxjk0VlqNkz5X-1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF2CC;strokeColor=#D6B656;" value="User\n---\nid (PK, UUID)\nusername (unique)\nemail (unique)\npassword_hash\nis_active\nis_staff\nis_superuser\ncreated_at\nupdated_at" vertex="1">
          <mxGeometry height="220" width="220" x="40" y="40" as="geometry" />
        </mxCell>
        <mxCell id="3uXLl0RHxjk0VlqNkz5X-2" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E2F0D9;strokeColor=#6AA84F;" value="Movie\n---\nid (PK)\ntmdb_id (unique)\ntitle\nrelease_date\noverview\nposter_path\nmetadata (JSONB)\ncreated_at\nupdated_at" vertex="1">
          <mxGeometry height="240" width="260" x="320" y="40" as="geometry" />
        </mxCell>
        <mxCell id="3uXLl0RHxjk0VlqNkz5X-3" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#D9E1F2;strokeColor=#3C78D8;" value="Genre\n---\nid (PK)\ntmdb_id (unique)\nname" vertex="1">
          <mxGeometry height="120" width="200" x="620" y="40" as="geometry" />
        </mxCell>
        <mxCell id="3uXLl0RHxjk0VlqNkz5X-4" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE5CD;strokeColor=#E69138;" value="MovieGenre\n---\nid (PK)\nmovie_id (FK -&gt; Movie.id)\ngenre_id (FK -&gt; Genre.id)\nUnique(movie_id, genre_id)" vertex="1">
          <mxGeometry height="120" width="240" x="620" y="180" as="geometry" />
        </mxCell>
        <mxCell id="3uXLl0RHxjk0VlqNkz5X-5" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F4CCCC;strokeColor=#CC0000;" value="FavoriteMovie\n---\nid (PK)\nuser_id (FK -&gt; User.id)\nmovie_id (FK -&gt; Movie.id)\ntmdb_id (integer, denorm)\ntitle (denorm)\nmetadata (JSONB)\ncreated_at\nUnique(user_id, movie_id)" vertex="1">
          <mxGeometry height="180" width="420" x="40" y="300" as="geometry" />
        </mxCell>
        <mxCell id="3uXLl0RHxjk0VlqNkz5X-6" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EAD1DC;strokeColor=#A64D79;" value="Watchlist\n---\nid (PK)\nuser_id (FK -&gt; User.id)\nmovie_id (FK -&gt; Movie.id)\nposition (int)\nadded_at\nUnique(user_id, movie_id)" vertex="1">
          <mxGeometry height="160" width="320" x="480" y="320" as="geometry" />
        </mxCell>
        <mxCell id="3uXLl0RHxjk0VlqNkz5X-7" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF2CC;strokeColor=#B45F06;" value="TMDbCache\n---\nid (PK)\ntmdb_id (nullable)\nendpoint (string)\nresponse (JSONB)\nfetched_at\nttl (sec)\nIndex(endpoint, tmdb_id)" vertex="1">
          <mxGeometry height="160" width="360" x="40" y="520" as="geometry" />
        </mxCell>
        <mxCell id="3uXLl0RHxjk0VlqNkz5X-8" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3F3F3;strokeColor=#999999;" value="TokenBlacklist\n---\nid (PK)\njti (unique)\nuser_id (FK -&gt; User.id)\nexpires_at\nblacklisted_at" vertex="1">
          <mxGeometry height="140" width="320" x="440" y="520" as="geometry" />
        </mxCell>
        <mxCell id="3uXLl0RHxjk0VlqNkz5X-9" edge="1" parent="1" source="3uXLl0RHxjk0VlqNkz5X-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" target="3uXLl0RHxjk0VlqNkz5X-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3uXLl0RHxjk0VlqNkz5X-10" edge="1" parent="1" source="3uXLl0RHxjk0VlqNkz5X-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" target="3uXLl0RHxjk0VlqNkz5X-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3uXLl0RHxjk0VlqNkz5X-11" edge="1" parent="1" source="3uXLl0RHxjk0VlqNkz5X-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" target="3uXLl0RHxjk0VlqNkz5X-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3uXLl0RHxjk0VlqNkz5X-12" edge="1" parent="1" source="3uXLl0RHxjk0VlqNkz5X-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" target="3uXLl0RHxjk0VlqNkz5X-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3uXLl0RHxjk0VlqNkz5X-13" edge="1" parent="1" source="3uXLl0RHxjk0VlqNkz5X-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" target="3uXLl0RHxjk0VlqNkz5X-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3uXLl0RHxjk0VlqNkz5X-14" edge="1" parent="1" source="3uXLl0RHxjk0VlqNkz5X-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" target="3uXLl0RHxjk0VlqNkz5X-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3uXLl0RHxjk0VlqNkz5X-15" edge="1" parent="1" source="3uXLl0RHxjk0VlqNkz5X-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" target="3uXLl0RHxjk0VlqNkz5X-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3uXLl0RHxjk0VlqNkz5X-16" edge="1" parent="1" source="3uXLl0RHxjk0VlqNkz5X-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" target="3uXLl0RHxjk0VlqNkz5X-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
